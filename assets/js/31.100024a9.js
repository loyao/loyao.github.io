(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{430:function(a,s,t){"use strict";t.r(s);var e=t(2),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"一-名词介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-名词介绍"}},[a._v("#")]),a._v(" 一．名词介绍")]),a._v(" "),s("p",[a._v("监控工具\n1.数据采集工具\n  数据采集 数据展示 数据分析\n2.报警工具\n主机：要监控的网络设备\n主机组：主机的组，包含模板\n监控项：监控指标\n触发器（trigger）：判断监控项是否正常\n事件（event）：值得关注的事情，比如触发器状态改变\n动作（action）：对事件的处理方式\n报警升级（escalation）:发送报警或者执行远程命令的方法\n媒介（media）：发送详细的方式\n通知（notification）：通过选定的媒介向用户发送的有关事件信息\n前端：zabbix的web接口")]),a._v(" "),s("p",[a._v("服务端跟被监控的对象进行通信， 对安装了agent进行监控")]),a._v(" "),s("h2",{attrs:{id:"二-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-安装"}},[a._v("#")]),a._v(" 二．安装")]),a._v(" "),s("p",[a._v("编译安装"),s("br"),a._v("\n同时安装server和agent,并且将数据写入MySQL(with-libcurl网页监控)")]),a._v(" "),s("p",[a._v("./configure --enable-server --enable-agent --with-mysql \n --enable-ipv6 --with-net-snmp --with-libcurl"),s("br"),a._v("\n 只是安装server"),s("br"),a._v("\n./configure --enable-server  --with-mysql \n  --enable-ipv6 --with-net-snmp --with-libcurl"),s("br"),a._v("\n安装prefix\n./configure --prefix=/usr --enable-proxy  --with-mysql \n --with-net-snmp --with-ssh2\n安装agent\n./configure --enable-agent")]),a._v(" "),s("p",[a._v("make install")]),a._v(" "),s("p",[a._v("rpm安装\nyum list all | grep zabbix")]),a._v(" "),s("p",[a._v("配置yum 源\nhttp://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.1-1.el7.noarch.rpm\n其中7指系统版本，具体链接去repo.zabbix.com/zabbix找")]),a._v(" "),s("p",[a._v("Centos的版本需要使用Software Collections软件包")]),a._v(" "),s("p",[a._v("配置信息,包括数据库的配置\nvim /etc/zabbix/zabbix_server.conf\n/etc/zabbix/web/zabbix.conf.php 中有ZBX_SERVER_NAME,是设置在监控中显示在首页图标下的名字")]),a._v(" "),s("p",[a._v("查看日志\ncat /var/log/zabbix/zabbix_server.log")]),a._v(" "),s("p",[a._v("yum localinstall //安装本地的包")]),a._v(" "),s("p",[a._v("添加agent\n在安装完成agent之后\n配置文件在\n/etc/zabbix/zabbix_agentd.conf agent\n/etc/zabbix/zabbix_agent2.conf agent2")]),a._v(" "),s("h3",{attrs:{id:"_2-2相关配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2相关配置"}},[a._v("#")]),a._v(" 2.2相关配置")]),a._v(" "),s("p",[a._v("agent配置，")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Server=  //agent主动模式， 不需要，代理模式填写代理服务器ip \nServerActive= 地址为server的ip地址，是agent代理的话这里需要是代理服务器的地址 \nHostname=   //这里的名字是在server中添加主机的名字  \nStartAgents=0 //主动模式  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("systemctl enable zabbix-agent")]),a._v(" "),s("p",[a._v("配置proxy"),s("br"),a._v("\n首先需要在proxy  的机器上安装proxy-mysql")]),a._v(" "),s("p",[a._v("安装完成之后，在/usr/share/doc/zabbix-proxy-mysql-（版本号）/schema.sql.gz压缩包中就是创建数据库的文件\n数据库导入之后\n命令道导入方式：\nzcat （数据库文件路径） |  mysql -u database_user_name -D database_name -h 目标host -p")]),a._v(" "),s("p",[a._v("之后就是porxy配置\n具体目录 /etc/zabbix/zabbix_proxy.conf")]),a._v(" "),s("p",[a._v("Server=10.9.8.214   # 此处填zabbix-server的IP")]),a._v(" "),s("p",[a._v("Win版本的基本一致，win版本的配置文件位于C:\\Program Files\\Zabbix Agent\\zabbix_agentd.conf\n防火墙开10050端口和10051，同时启动zabbix-agent")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Hostname=zabbix_proxy # 此处填写的名字必须要和web端设置agent代理的名字一样\n\nDBName=zabbix_proxy  //本地数据库名称\n\nDBHost=10.9.8.214   //数据库host\n \nDBUser=zabbix_proxy  \n\nDBPassword=zabbix\n\nConfigFrequency=60 # 60s同步一次配置文件\n\nDataSenderFrequency=60 # 60s发送一次数据到server端\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br")])]),s("p",[a._v("配置好后重启\n在web端agent代理中添加代理服务器,在管理，agent代理程序中添加。")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zabbix/image-20220512111027317.png",alt:"image-20220512111027317"}})]),a._v(" "),s("h3",{attrs:{id:"_2-3配置邮件通知"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3配置邮件通知"}},[a._v("#")]),a._v(" 2.3配置邮件通知")]),a._v(" "),s("p",[a._v("在管理报警媒介中添加新的邮件报警媒介，以163为例子，密码需要去对应的邮箱中去申请")]),a._v(" "),s("p",[s("img",{attrs:{src:"/zabbix/image-20220512111102389.png",alt:"image-20220512111102389"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zabbix/image-20220512111131229.png",alt:"image-20220512111131229"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"/zabbix/image-20220512111146509.png",alt:"image-20220512111146509"}})]),a._v(" "),s("p",[a._v("​        完成后可以点击测试是否配置成功。然后在配置动作里面启动通知.在管理的用户菜单，的用户媒体类型中可以设置相关的一些信息。同事在动作的通知中选择的对分组或者是具体的用户通知也是用过报警媒介这里进行设置，可以设置通知时间，具体那些信息进行告警。")]),a._v(" "),s("p",[a._v("修改图像乱码\n安装字体库 yum install wqy-microhei-fonts修改")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("cp /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/fonts/dejavu/DejaVuSans.ttf\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("短信")]),a._v(" "),s("p",[a._v("编辑配置文件")]),a._v(" "),s("p",[a._v("/etc/zabbix/zabbix-server.conf")]),a._v(" "),s("p",[a._v("AlertScriptsPath=${datadir}/zabbix/alertscripts")]),a._v(" "),s("p",[a._v("报警脚本路径 #去掉注释,指定报警脚本路径")]),a._v(" "),s("p",[a._v("脚本需要放置在前面指定的路径中，默认路径   /usr/lib/zabbix/alertscripts\n设置告警机器人\n可以在钉钉和企业微信中申请机器人应用，配置相关脚本之后就可以设置消息提醒。钉钉需要设置ip或者消息内容限制。\n另外可以在配置动作里面设置消息恢复提示。\nhttps://www.cnblogs.com/ssgeek/p/9223559.html")]),a._v(" "),s("p",[a._v("添加脚本后需要，赋予脚本可执行权限。chmod +x scripname\n监控服务")]),a._v(" "),s("h4",{attrs:{id:"nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[a._v("#")]),a._v(" Nginx")]),a._v(" "),s("p",[a._v("开启监控取值页面，在配置文件中添加")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("location = /nginx_status {\n    stub_status;\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("nginx_status名称不固定\n配置监控模板，在监控模板中Template App Nginx by Zabbix agent，模板宏修改，{$NGINX.STUB_STATUS.PATH}为前面设置的名字，端口为设置的端口名。")]),a._v(" "),s("h4",{attrs:{id:"mysql监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql监控"}},[a._v("#")]),a._v(" MySQL监控")]),a._v(" "),s("p",[a._v("使用percona的监控工具，下载地址为   https://www.percona.com/downloads/percona-monitoring-plugins/， 下载的为zabbix版本。"),s("br"),a._v("\n安装，rpm -ivh rpm包名，安装的模板中.安装包提供的模板版本过于老，系统不兼容，使用https://pan.baidu.com/s/1pL1wDYj?"),s("em",[a._v("at")]),a._v("=1617953240100 提供的。"),s("br"),a._v("\n导入模板之后，将目录的userparameter_percona_mysql.conf  文件复制到，")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/var/lib/zabbix/percona/templates\nmv userparameter_percona_mysql.conf /etc/zabbix/zabbix_agentd.d/ \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("修改/var/lib/zabbix/percona/scripts/ss_get_mysql_stats.php，数据连接脚本的数据库连接信息。讲下面的信息替换为需要监控的数据库相关信息")]),a._v(" "),s("div",{staticClass:"language-php line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_user")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'cactiuser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_pass")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'cactiuser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_port")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_socket")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_flags")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mysql_ssl")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant boolean"}},[a._v("FALSE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Whether to use SSL to ")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("如果登录数据库的用户不是root用户，还要修改该目录下的get_mysql_stats_wrapper.sh文件，")]),a._v(" "),s("div",{staticClass:"language-shell script line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##将")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RES")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("HOME")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=~")]),a._v("zabbix mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SHOW SLAVE STATUS\\G'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("egrep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'(Slave_IO_Running|Slave_SQL_Running):'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" -F: "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $2}'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\\n'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("','")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##改为")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RES")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("HOME")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=~")]),a._v("zabbix mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SHOW SLAVE STATUS\\G'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("egrep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'(Slave_IO_Running|Slave_SQL_Running):'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" -F: "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $2}'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\\n'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("','")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" \n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("完成之后在相应的主机上添加上刚刚导入的模板，进行监控。")]),a._v(" "),s("h4",{attrs:{id:"图形自定义使用grafana"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图形自定义使用grafana"}},[a._v("#")]),a._v(" 图形自定义使用grafana")]),a._v(" "),s("h5",{attrs:{id:"安装启用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装启用"}},[a._v("#")]),a._v(" 安装启用")]),a._v(" "),s("p",[a._v("https://mirror.tuna.tsinghua.edu.cn/grafana/yum/rpm/ 下载rpm包，使用yum localinstall安装。安装后启动服务。systemctl start grafana-server.service 启动之后使用本机ip加3000端口访问，默认账号密码admin/admin。安装插件，访问Configuration菜单的plugins子菜单，在官网上去寻找zabbix插件，也可在命令行直接使用grafana-cli命令执行安装zabbix插件。\nhttps://grafana.com/grafana/plugins/alexanderzobnin-zabbix-app/?tab=installation 官网安装文档。也可直接去https://github.com/alexanderzobnin/grafana-zabbix 下载压缩包，将下载的压缩包放到/var/lib/grafana/plugins,解压以后重启服务。就可以在插件菜单中看到相应插件。然后点击该插件，点击启用。")]),a._v(" "),s("h5",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("p",[a._v("添加数据源，\n"),s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5Cadd_datasouce.jpg",alt:"add_datasouce"}})]),a._v(" "),s("p",[a._v("​      配置如下，主要是添加数据源地址，以及登录账号。添加完成后可以点下方的测试，测试通过之后，点击 Dashboards ，将三个模板都导入。")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618797964860.png",alt:"1618797964860"}})]),a._v(" "),s("p",[a._v("​       点击如下菜单，就可以看到刚刚导入的三个模板，点击模板就可以看到根据模板信息展示的图。点击图的上的编辑就可以修改展示的图的相关。")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618798610569.png",alt:"1618798610569"}})]),a._v(" "),s("p",[a._v("增加图样")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618799479849.png",alt:"1618799479849"}})]),a._v(" "),s("p",[a._v("增加新的图")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618801057881.png",alt:"1618801057881"}})]),a._v(" "),s("h3",{attrs:{id:"关于使用itop工单系统中踩得坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于使用itop工单系统中踩得坑"}},[a._v("#")]),a._v(" 关于使用itop工单系统中踩得坑")]),a._v(" "),s("p",[a._v("1.首先是在系统中设置了工单系统的调用脚本不需要在去itop中进行相关设置；")]),a._v(" "),s("p",[a._v("2.生成工单外部调用的账号中，需要给用户加上rest的权限才能进行工单。")]),a._v(" "),s("p",[a._v("3.脚本中设置的时候需要这个用户的组织id，和用户id如果id不匹配是不能生成工单的。")]),a._v(" "),s("h2",{attrs:{id:"使用-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-2"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("h3",{attrs:{id:"事件关联"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件关联"}},[a._v("#")]),a._v(" 事件关联")]),a._v(" "),s("h3",{attrs:{id:"自动监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动监控"}},[a._v("#")]),a._v(" 自动监控")]),a._v(" "),s("h4",{attrs:{id:"自动发现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动发现"}},[a._v("#")]),a._v(" 自动发现")]),a._v(" "),s("p",[a._v("​       在自动发现的中添加扫描的ip范围，设备会按照设定的时间间隔自动去扫描。然后在配置动作中选择自动发现，为这自动发现创建一个动作。默认已经有一个动作，直接启用，点击进入修改，在操作中添加操作细节，选择添加主机。也可以修改模板和主机群组的类型。")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618208856125.png",alt:"1618208856125"}})]),a._v(" "),s("h4",{attrs:{id:"自动注册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动注册"}},[a._v("#")]),a._v(" 自动注册")]),a._v(" "),s("p",[a._v("​      angent的配置文件中server是允许那个机器能来取值，ServerActive是向谁汇报数据。HostMetadata是给自己打标签，监控端可以根据不同的标签加上不同的监控模板。标签就是在自动注册的时候用到的。"),s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618211473510.png",alt:"1618211473510"}})]),a._v(" "),s("p",[a._v("​    添加自动注册规则，该位置添加。"),s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618211847098.png",alt:"1618211847098"}})]),a._v(" "),s("p",[a._v("​     在添加的条件中，主机元数据就是上文所说道的标签内容。操作需要需要添加自己需要监控的模板。")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5C1618214235662.png",alt:"1618214235662"}})]),a._v(" "),s("h3",{attrs:{id:"jvm监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jvm监控"}},[a._v("#")]),a._v(" jvm监控")]),a._v(" "),s("p",[a._v("​        zabbix-java-gateway工具进行监控。可以去")]),a._v(" "),s("p",[a._v("​       修改zabbix-java-gateway的配置文件，vim /etc/zabbix/zabbix_java_gateway.conf,修改 START_POLLERS，该配置为启动几个进程。修改zabbix-server的配置文件，vim /etc/zabbix/zabbix_server.conf，在JavaGateway那一行，将安装了zabbix_java_gateway的机器的ip地址填写，StartJavaPollers修改为和前面的配置启动进程数一样就可以。")]),a._v(" "),s("p",[a._v("​       开启tomcat的jmx，首先关闭tomcat,进入tomcat的 bin目录 ，修改 修改catalina.sh ， 找到“#—–Execute The Requested Command” ，添加如下的配置，然后重新启动tomcat.  "),s("strong",[a._v("tomcat8.5之后需要写在一行才能生效")]),a._v("！！！！！。")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CATALINA_OPTS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$CATALINA_OPTS")]),a._v(' -Dcom.sun.management.jmxremote -Djava.rmi.server.hostname=192.168.1.246 -Dcom.sun.management.jmxremote.port=12345 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"')]),a._v("\n————————————————\nip是你要监控的tomcat所在服务器的ip地址\n端口号，是你要开启的监控端口号,zabbix默认是12345。\nssl，false表示不使用ssl链接\nauthenticate，false表示不使用监控，即不需要用户名和密码\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("zabbix默认的代理程序是给agent使用的不能使用于jmx，snmp等监控模式。")]),a._v(" "),s("h3",{attrs:{id:"zabbix-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-api"}},[a._v("#")]),a._v(" zabbix api")]),a._v(" "),s("p",[a._v("​      http://your zabbix address/api_jsonrpc.php,系统api接口。用post发送。发起的方法在请求的json里面，登录的方法如下：")]),a._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"jsonrpc"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//API使用的JSON-RPC协议的版本; Zabbix API实现的JSON-RPC版本是2.0;")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"method"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"user.login"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//请求的方法")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"params"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"user"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Admin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//登录的用户")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"admin"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//请求的任意标识符")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"auth"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token null keyword"}},[a._v("null")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//token登录不需要")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("h3",{attrs:{id:"web监测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web监测"}},[a._v("#")]),a._v(" web监测")]),a._v(" "),s("p",[a._v("​        在主机监控项总设置web监控项，场景菜单中只需要将三个必填项填写就可以了，如果需要代理访问的，就添加代理。添加步骤。有数据就是在发布类型中添加数据，可以选择表单，或者原始数据")]),a._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CDesktop%5Czabbix%E6%96%87%E6%A1%A3%5Cimg%5Cimage-20210425120039382.png",alt:"image-20210425120039382"}})]),a._v(" "),s("h3",{attrs:{id:"监控redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监控redis"}},[a._v("#")]),a._v(" 监控redis")]),a._v(" "),s("p",[a._v("在安装好的机器上查看redis信息，命令如下")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("redis-cli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" userpassword info\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在/etc/zabbix/zabbix_agentd.d目录下编写监控配置文件，内容如下")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UserParameter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("redis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(",redis-cli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" userpassword info "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('":"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cut")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("':'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UserParameter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("redis-ping,redis-cli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" userpassword "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ping")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" PONG\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UserParameter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("redis.version, redis-server "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--version")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cut")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('" "')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cut")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"="')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("https://github.com/Leif160519/zabbix/tree/master/Redis")]),a._v(" "),s("h3",{attrs:{id:"性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[a._v("#")]),a._v(" 性能优化")]),a._v(" "),s("p",[a._v("对变化不大的监控项，可以增加监控的时间间隔。")]),a._v(" "),s("p",[a._v("配置文件中的MwareCacheSize 缓存空间，提高访问性能。")]),a._v(" "),s("p",[a._v("history  history_log  history_str history_text history_uint 是zabbix的数据存放。")]),a._v(" "),s("p",[a._v("报警太多就分组报警。")]),a._v(" "),s("p",[a._v("将触发器的last的报警方法改为平均值，减少瞬时负载对系统的报警信息。")]),a._v(" "),s("h2",{attrs:{id:"三-snmp监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-snmp监控"}},[a._v("#")]),a._v(" 三．SNMP监控")]),a._v(" "),s("p",[a._v("snmp是简单网络管理协议（SNMP） 是专门设计用于在 IP 网络管理网络节点（服务器、工作站、路由器、交换机及HUBS等）的一种标准协议，它是一种应用层协议。")]),a._v(" "),s("p",[a._v("下载地址：https://sourceforge.net/projects/net-snmp/files/net-snmp/")]),a._v(" "),s("p",[a._v("安装选择源码安装，在进入了解压的目录之后，./configure执行安装相关，会选择相关信息，")]),a._v(" "),s("p",[a._v("//选择snmp协议版本，默认第3版\nDefaultversion of SNMP to use (3):3")]),a._v(" "),s("p",[a._v("//系统联系信息\nSystem Contact Information (@@no.where)")]),a._v(" "),s("p",[a._v("//系统位置\nSystem Location (Unknown)\n//日志位置\nLocation to write logfile (/var/log/snmpd.log)\n//持久日志存贮位置\nLocation to write persistent information")]),a._v(" "),s("p",[a._v("然后进行编译和安装")]),a._v(" "),s("p",[a._v("Yum 安装"),s("br"),a._v("\n安装net-snmp net-snmp-utils"),s("br"),a._v("\n开启配置"),s("br"),a._v("\nsed -i.ori '57a view systemview included .1' /etc/snmp/snmpd.conf"),s("br"),a._v("\n监控属性"),s("br"),a._v("\nsnmpwalk -v 2c -c public 127.0.0.1 sysname\n2c表示版本，public表示组，snmp的key")]),a._v(" "),s("p",[a._v("监控VMware")]),a._v(" "),s("p",[a._v("​      设置zabbix-server的配置文件中StartVMwareCollectors，设置启动的vmware控制器实例数")]),a._v(" "),s("h2",{attrs:{id:"四、自定义监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、自定义监控"}},[a._v("#")]),a._v(" 四、自定义监控")]),a._v(" "),s("p",[a._v("1.创建自定义key\n在创建key之前，可以先在proxy的机器上进行zabbix-get测试")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("zabbix-get "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" ‘hostip’ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" hostport "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v(" ‘命令’\nzabbix_get "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" host-name-or-IP "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-p port-number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-I IP-address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v(" item-key\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("p",[a._v("将安装目录下的EXAMPLE.conf复制到/usr/local/etc/snmp ，如果目录不存在就自己创建，重命名为snmp.conf\n安全\n防火墙放行端口")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10050")]),a._v("/tcp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10050")]),a._v("/udp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10051")]),a._v("/tcp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10051")]),a._v("/udp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--reload")]),a._v(" \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("配置文件编写")]),a._v(" "),s("p",[a._v("添加postgresql")]),a._v(" "),s("p",[a._v("官方文档地址：")]),a._v(" "),s("p",[a._v("https://www.postgresql.org/download/linux/redhat/")]),a._v(" "),s("h2",{attrs:{id:"zabbix-agnet2-自定义插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-agnet2-自定义插件"}},[a._v("#")]),a._v(" zabbix agnet2 自定义插件")]),a._v(" "),s("p",[a._v("获取对应指标")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#yum 安装的")]),a._v("\nzabbix_agent2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" metrics\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#制定内部已安装的 -c之后的是zabbix配置路径")]),a._v("\n./zabbix_agent2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" /home/monitor/zabbix/etc/zabbix_agent2.conf  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" metrics\n\n./configure "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/monitor/zabbix/  --enable-agent2 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#编译指定目录")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h2",{attrs:{id:"zabbixtab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zabbixtab"}},[a._v("#")]),a._v(" zabbixtab")]),a._v(" "),s("p",[a._v("https://zbxtable.cactifans.com/docs/install/rpm/")]),a._v(" "),s("p",[a._v("2021/04/27 17:22:55.010 [I] [command.go:163]  Username :ms-agent\n2021/04/27 17:22:55.010 [I] [command.go:163]  Password : VMPMAAXUU")]),a._v(" "),s("p",[a._v("2021/04/27 15:46:53.934 [I] [command.go:163]  MS-Agent token is 72b282f72f9b464c83d7f083cc3fa6f6")]),a._v(" "),s("h1",{attrs:{id:"相关网址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关网址"}},[a._v("#")]),a._v(" 相关网址")]),a._v(" "),s("p",[a._v("安装在线教程：\nhttps://blog.csdn.net/weixin_45764820/article/details/108139053")]),a._v(" "),s("p",[a._v("配置交换机\nhttps://zhuanlan.zhihu.com/p/112424750")]),a._v(" "),s("p",[a._v("归档包下载地址：\nhttps://www.zabbix.com/cn/download?zabbix=5.0&os_distribution=centos&os_version=7&db=mysql&ws=apache")]),a._v(" "),s("p",[a._v("官方文档地址\nhttps://www.zabbix.com/documentation/5.0/zh/manual/installation/install")]),a._v(" "),s("p",[a._v("yum离线包下载地址 http://rpmfind.net/linux/rpm2html/search.php?query=&submit=Search+...&system=&arch=")]),a._v(" "),s("p",[a._v("清华源地址 https://mirror.tuna.tsinghua.edu.cn/zabbix/zabbix/5.0/rhel/7/x86_64/")]),a._v(" "),s("p",[a._v("官方模板https://git.zabbix.com/projects/ZBX/repos/zabbix/browse/templates")]),a._v(" "),s("p",[a._v("zabbix数据库 https://share.zabbix.com/databases")]),a._v(" "),s("p",[a._v("vmware监控，需要VMware vCenter")]),a._v(" "),s("p",[a._v("https://segmentfault.com/a/1190000039106984")]),a._v(" "),s("p",[a._v("zabtable")]),a._v(" "),s("p",[a._v("https://zbxtable.cactifans.com/docs/install/rpm/")])])}),[],!1,null,null,null);s.default=r.exports}}]);